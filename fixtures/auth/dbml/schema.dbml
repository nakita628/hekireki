Enum UserRole {
  ADMIN
  USER
}

Table User {
  id String [pk, note: 'Unique user ID']
  name String [note: 'Display name']
  email String [unique, note: 'Email address']
  emailVerified DateTime [note: 'Date when the email was verified']
  image String [note: 'Profile image URL']
  password String [note: 'Hashed password']
  role UserRole [note: 'Role of the user (ADMIN or USER)']
  accounts Account [note: 'Linked accounts']
  isTwoFactorEnabled Boolean [note: 'Whether 2FA is enabled']
  twoFactorConfirmation TwoFactorConfirmation [note: '2FA confirmation']
}

Table Account {
  id String [pk, note: 'Unique account ID']
  userId String [note: 'Reference to the user ID']
  type String [note: 'Type of account (e.g., oauth, email)']
  provider String [note: 'Name of the provider (e.g., google, github)']
  providerAccountId String [note: 'Provider-specific account ID']
  refresh_token String [note: 'Refresh token']
  access_token String [note: 'Access token']
  expires_at Int [note: 'Expiration time (UNIX timestamp)']
  token_type String [note: 'Token type (e.g., Bearer)']
  scope String [note: 'OAuth scope']
  id_token String [note: 'ID token']
  session_state String [note: 'Session state']
  user User [note: 'Belongs to user']
}

Table VerificationToken {
  id String [pk, note: 'Token ID']
  email String [note: 'Email address']
  token String [unique, note: 'Token string']
  expires DateTime [note: 'Expiry time']
}

Table PasswordResetToken {
  id String [pk, note: 'Token ID']
  email String [note: 'Email address']
  token String [unique, note: 'Token string']
  expires DateTime [note: 'Expiry time']
}

Table TwoFactorToken {
  id String [pk, note: 'Token ID']
  email String [note: 'Email address']
  token String [unique, note: 'Token string']
  expires DateTime [note: 'Expiry time']
}

Table TwoFactorConfirmation {
  id String [pk, note: 'Confirmation ID']
  userId String [unique, note: 'Reference to user']
  user User [note: 'The user who confirmed 2FA']
}

Ref Account_userId_User_id_fk: Account.userId > User.id

Ref TwoFactorConfirmation_userId_User_id_fk: TwoFactorConfirmation.userId - User.id
